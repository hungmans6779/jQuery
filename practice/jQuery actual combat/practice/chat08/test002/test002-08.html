<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
 
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>無標題文件</title>
    <link rel="stylesheet" href="../../../time01/chat08/test002/styles/bookstore.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../time01/chat08/test002/styles/tables.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../time01/chat08/test002/styles/forms.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../time01/chat08/test002/styles/rotators.css" type="text/css" media="screen" />
    <style type="text/css">
     <!--
       .overlabelk label {
         position: absolute;
         top: 6px;
         left: 3px;
         color: #999;
         cursor: text;
       }
     -->
   </style>
    <script language="javascript" type="text/javascript" src="/myresources/js/jquery-1.4.1.js"></script>
    <script language="javascript">
	  <!--
	      jQuery.noConflict();
		  
		  jQuery(document).ready(function($){
		    
			var requiredFlag=" * ";
			var conditionalFlag=" ** ";
			
			var requiredKey=$('input.required:first').next('span').text();
            requiredKey=requiredFlag+requiredKey.replace(/^\((.+)\)$/,'$1');
		
		    var conditionalKey=$('input.conditional:first').next('span').text();
			conditionalKey=conditionalFlag+conditionalKey.replace(/^\((.+)\)$/,'$1');
			
			
			$('<p></p>').addClass('field-keys')
			            .append(requiredKey)
						.append('<br>')
						.append(conditionalKey)
			            .insertBefore('#contact');
			
			
			$('form#contact :input').filter('.required')
			   .next('span').text(requiredFlag).end()
			   .prev('label').addClass('req-label').end()
			   .end()
			   .filter('.conditional')
			   .next('span').text(conditionalFlag).end();
			

			
			 $(':input.conditional').next('span').andSelf().hide().end().end()
			                        .each(function(){
									   var $thisInput=$(this);
									   var $thisFlag=$thisInput.next('span');
									   $thisInput.prev('label').find(':checkbox')
									             .attr('checked',false)
									             .click(function(){
									                if(this.checked){
										              $thisInput.show()
													            .addClass('required');
																
									           		  $thisFlag.show();
											          $(this).parent('label').addClass('req-label');
										            }else{
													  $thisInput.hide()
													            .removeClass('required')
															    .blur();
																																
													  $thisFlag.hide();
													  $(this).parent('label').removeClass('req-label');
													}
									             }); // end click
												 
									   }); // end   $(':input.conditional')
			
			
			$('form :input').blur(function(){
			    
							   
			    // 處理產生重覆的訊息
			    $(this).parents('li:first')
				       .removeClass('warning')
				       .find('span.error-message')
					   .remove(); 
				
				 
			   if($(this).hasClass('required')){ // 針對要檢核的欄位做處理
			   
			      if($.trim($(this).val())==''){  // 如果該欄位為空值時
				     var $itemlist=$(this).parents('li:first');
					 var errorMessage="This is a required.";
					 if($(this).hasClass('conditional')){
					    errorMessage+=", When its related checkbox is checked ...";
					 } // end if($(this).hasClass('conditional'))
					 
					 $('<span></span>').addClass('error-message')
					                   .text(errorMessage)
									   .appendTo($itemlist);
									   
					 $itemlist.addClass('warning');				  
					 
				  }else{ // 如果該欄位值不為空值時
				     
					 if($(this).is('#email')){  // 如果該欄位是email 時
					   
					   if($(this).is(':hidden')){
					     $(this).val('');
					   }
					 
					
					   if( $.trim(this.value)!='' &&  ! /.+@.+\.[a-z A-Z]{2,4}$/.test($.trim(this.value)) ){
						  
						  var $itemlist=$(this).parents('li:first');
		
						  $('<span></span>').addClass('error-message')
						                    .text('請輸入正確的email 格式')
											.appendTo($itemlist);
											
							$itemlist.addClass('warning');				
			
					   } // end if( $.trim(this.value)!='' &&  ! /.+@.+\.[a-z A-Z]{2,4}$/.test($.trim(this.value)) ){
					   
					 
					 } // end if($(this).is('#email')){  // 如果該欄位是email 時
				  
				  }
				    
			   } // end if($(this).hasClass('required')){ // 針對要檢核的欄位做處理
			
			
			}); // end $('form:input').blur(function(){
			
			
			
			
			// 提交表單
			$('form').submit(function(){
			  
			   $('#submit-message').remove();
			   $(':input.required').trigger('blur');
			   
			   var numWarnings=$('.warning',this).length;

			   if(numWarnings){
			   
			     var fieldList=[];
				 $('.warning label').each(function(index){
				    //fieldList[index]=$(this).text();
				    fieldList.push($(this).text());
				   
				 }); // end $('.warning label').each(function()
							   
			     $('<div></div>').attr({'id':'submit-message','class':'warning'})
				                 .append('Please correct errors with numWarnings '+numWarnings+' fields:<br>')
								 .append('&bull; ' +fieldList.join('<br>&bull; '))
								 .insertBefore('#send');
			     
       			  return false;
			   } // end  if(numWarnings)

			}); // end $('form').submit(function(){
			

		  }); // end jQuery(document).ready(function($){
		  
  	  -->
	</script>
    

  </head>

  <body>
  
   <div id="wrapper">
  	<div id="branding">
			<h1><a href="../../../time01/chat08/index.html">Learning jQuery</a></h1>
  	</div>
  	<div id="container">
  		<div id="content">
  			<h2>Contact</h2>
  			
  			<p>Please use the form below to send your comments or questions. Also, let us know how you would like us to reach you and how you came upon our site. </p>
            
            
            
            
        <form id="contact" action="../../../time01/chat08/test002/index.html" method="get">

  
    <fieldset class="clear-after" >
       <legend>Personal Info</legend>
       <ol>
         <li>

            <label for="first-name">First Name</label>
            <input class="required" type="text" name="first-name" id="first-name"  />
            <span>(required)</span>          </li>
          <li>
            <label for="last-name">Last Name</label>
            <input class="required" type="text" name="last-name" id="last-name" />
            <span>(required)</span>          </li>
          <li>How Would you like to be contacted?(choose at least one method)
            <ul>
              <li>
                <label for="by-email">
                  <input type="checkbox" name="by-contact-type" value="E-mail" id="by-eamil" />by E-mail                </label>
                <input class="conditional" type="text" name="email" id="email" />
                <span>(required when corresponding checkbox checked)</span>              </li>
              <li>
                <label for="by-phone" >
                  <input type="checkbox" name="by-contact-type" value="Phone" id="by-phone" />by Phone                </label>
                <input class="conditional" type="text" name="phone" id="phone" />
                <span>(required when corresponding checkbox checked)</span>              </li>
              <li>
                <label for="by-fax" >
                   <input type="checkbox" name="by-contact-type" value="Fax" id="by-fax"  />by Fax                </label>
                <input class="conditional" type="text" name="fax" id="fax" />
                <span>(required when corresponding checkbox checked)</span>              </li>
            </ul>
          </li>
       </ol>  
    </fieldset>






        <fieldset class="clear-after">
            <legend>Message</legend>
            <ol>
              <li>
                <label for="subject">Subject</label>
                <input type="text" name="subject" id="subject" />
              </li>
              <li>
                <label for="comment">Body</label><textarea></textarea></li>
              </ol>
          </fieldset>
         
         
         
         
         <script language="javascript">
		 <!--
		      jQuery(document).ready(function($){
			    
				var elObj="<label>";
				    elObj+="<input type='checkbox' id='discover-all' />";
					elObj+="<em><font color='red'>check all</font></em>";
				    elObj+="</label>";
			   
                $('<li></li>').html(elObj)
				              .prependTo('li.discover > ul');
   
	            $('#discover-all').click(function(){
				   var $checkboxs=$(this).parents('ul:first').find(':checkbox');
				   if(this.checked){
				     $checkboxs.attr('checked',true);
					 $(this).next().text('un-check all');
				   }else{
				     $checkboxs.attr('checked',false);
					 $(this).next().text(' check all');
				   }
				}).parent('label').addClass('checkall');						  
							  
			  }); // end jQuery(document).ready(function(){
		 -->
		 </script>
         
         
         
          <fieldset class="clear-after" >
            <legend>Miscellaneous</legend>
            <ol>
              <li class="discover" >How did you discover us? (Check all that apply)
                <ul>
                  <li><label><input type="checkbox" name="discover" value="magazine" id="magazine" /> Magazine</label></li>
                  <li><label><input type="checkbox" name="discover" value="website" id="website" /> Website</label></li>
                  <li><label><input type="checkbox" name="discover" value="tv" id="tv" /> Television</label></li>
                  <li><label><input type="checkbox" name="discover" value="movie" id="movie" /> Movie</label></li>
                  <li><label><input type="checkbox" name="discover" value="school" id="school" /> School</label></li>
                  <li><label><input type="checkbox" name="discover" value="mom" id="mom" /> Mom</label></li>
                  <li><label><input type="checkbox" name="discover" value="billboard" id="billboard" /> Billboard</label></li>
                  <li><label><input type="checkbox" name="discover" value="graffiti" id="graffiti" /> Graffiti</label></li>
                  <li><label><input type="checkbox" name="discover" value="detritus" id="detritus" /> Detritus</label></li>
                  <li><label><input type="checkbox" name="discover" value="hate-mail" id="hate-mail" /> Hate Mail</label></li>
                </ul>
              </li>
            </ol>
          </fieldset>  
        
        
          
          
        <input type="submit" value="Send" id="send" />
        
     </form>
      
        
        
  	  </div> <!-- end content -->
      
      
      
      
      
      
      <div id="primary-nav">
    		<ul>
    			<li><a href="../../../time01/chat08/books/index.html">Books</a></li>
    			<li><a href="../../../time01/chat08/news/index.html">News</a></li>
    			<li>Contact</li>
    		</ul>    
      </div>
  	</div> <!-- end container -->
    
    
    
    
    
    
  	<div id="secondary-nav">
  	  <h3><a href="../../../time01/chat08/cart/index.html">Your Cart</a></h3>
  	  <ul>
  		<li>Lorem ipsum dolor</li>
  		<li>Lorem ipsum dolor</li>
  	    <li>Lorem ipsum dolor</li>
  		<li>Lorem ipsum dolor</li>
  	    <li>Lorem ipsum dolor</li>
  		<li>Lorem ipsum dolor</li>
  		<li>Lorem ipsum dolor</li>
  	  </ul>
  	</div> 



 
    <!-- 搜尋功能（開始） -->
    
	<script type="text/javascript" >
	<!--
	  // 處理 search 的功能
	  jQuery(document).ready(function($){
		  
	    var $search=$('#search').addClass('overlabel');
		var $searchInput=$search.find('input');
		var $searchLabel=$search.find('label');
		
		if($.trim($searchInput.val())){
		  $searchLabel.hide();
		}
		
		$searchInput.focus(function(){
		  $searchLabel.hide();
		}).blur(function(){
		  if($.trim($(this).val())==''){
		    $searchLabel.show();
		  }
		});
			 
			 
	    $searchLabel.click(function(){
		  $searchInput.trigger('focus');
		}); // end $searchLabel.click(function()		 
			 
	    
		
		// 處理建議選單的樣式處理（開始）
		var selectedItem=null;
		var setSelectedItem=function(item){
		  selectedItem=item;
		  
		  if(selectedItem==null){
		    $autoComplete.hide();
			return;
		  }
		  
		  
		  if(selectedItem<0){
		    selectedItem=0;
		  }else if(selectedItem >= $autoComplete.find('li').length){
		    selectedItem=$autoComplete.length-1;
		  }else{}
		  
		  $autoComplete.find('li')
		               .removeClass('selected')
		               .eq(selectedItem)
					   .addClass('selected');
		  
		}; // end var setSeletedItem=function(item){
		// 處理建議選單的樣式處理（結束）
		
		

		var $autoComplete=$('<ul class="autocomplete" ></ul>');
		$autoComplete.hide().insertAfter('#search-text');
		$('#search-text').attr('autocomplete','off')
		                 .keyup(function(event){

         if(event.keyCode > 40 || event.keyCode==8){
		 
		  $.ajax({
		    //'url':'http://3w.eztravel.com.tw/jQuery/chat8-1.jsp',
		    'url':'c.json',
			'data':{'search-text':$.trim($(this).val())},
			'dataType':'json',
			'type':'POST',
			'success':function(data){
			   if(data.length){
			     $autoComplete.empty();
				 $.each(data,function(index,term){
				   $('<li></li>').text(" "+term+" ")
				                 .appendTo($autoComplete)
								 .mouseover(function(){
								    setSelectedItem(index);
								 })
								 .click(function(){
								    $('#search-text').val(term);
									$autoComplete.hide();
								 });  // end click
				 }); // end $.each
				 $autoComplete.show();
				 setSelectedItem(0);
				//
			   }else{
			     setSelectedItem(null);
			   }
			}
		  }); // end  $.ajax
		 
		 }else if(event.keyCode==38 && selectedItem!=null){
		   // 向上鍵
		   setSelectedItem(selectedItem-1);
		   event.preventDefault();
		  
		 }else if(event.keyCode==40 && selectedItem!=null){
		   // 向下鍵
		   setSelectedItem(selectedItem+1);
		   event.preventDefault();
		   
		 }else if(event.keyCode==27 && selectedItem!=null){
		     // 按下 ESC 的按鍵
		    setSelectedItem(null);
		 }else{}
		 
		});  // end $('#search-text').keyup(function(event){
		                                                      	 
			 
			 
		var populateSearchField=function(){
		  $('#search-text').val($autoComplete.find('li').eq(selectedItem).text());
		  setSelectedItem(null);
		}; 
			
			
		
		$('#search-text').keypress(function(event){
		  
		  if(event.keyCode==13 && selectedItem!=null){
		    populateSearchField();
			event.preventDefault();
		  } // end  if(event.keyCode==13 && selectedItem!=null){
		
		}); // end $('#search-text').keypress(function(event){
			
		
		
		$('#search-text').blur(function(){
		   setTimeout(function(){
		    setSelectedItem(null);
		   },250);
		}); // end 	$('#search-text').blur(function(){
			 
	  }); // end  jQuery(document).ready(function($){
	-->
	</script>
    
    
  	<div id="sidebar">
  	   <h2>Sidebar</h2>
       <div>
          <form id="search" action="../../../time01/chat08/test002/search/index.php" method="post" accept-charset="utf-8">
            <label for="search-text" >search the site</label>
            <input type="text" name="search-text" id="search-text" />
            <input type="hidden" id="tt" />
  	      </form>
      </div>
       <p>
        Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam adipiscing, risus quis fringilla venenatis, diam nisi adipiscing magna, sit amet rutrum risus nunc sit amet odio. Praesent ullamcorper. Donec sit amet ipsum. Nam consequat rhoncus lacus. Pellentesque libero erat, elementum a, mattis in, molestie id, magna. Integer sed libero vitae lacus elementum egestas. Nullam massa magna, gravida sed, porta vel, ultricies at, purus. Maecenas turpis. Vivamus ante risus, eleifend sed, scelerisque at, lacinia vitae, nunc. Vestibulum ut arcu. Cras ut magna. Pellentesque eleifend commodo est. Sed vitae odio eget ipsum tristique hendrerit. Cras elementum turpis ut sapien. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Ut sed erat at velit bibendum varius. Sed venenatis sagittis lectus. Cras ligula felis, ultrices et, imperdiet et, laoreet sed, odio. Morbi nunc tellus, hendrerit in, aliquet eget, rutrum a, magna. Nunc nunc.
       </p>
  	</div> <!-- end sidebar -->
    <!-- 搜尋功能（結束） -->



  	<div id="footer">
  		This is the footer.
  	</div>

  </div> <!-- end wrapper -->
  
   
  </body>
  
</html>
